<h2 class="section-title">Webhook Configuration</h2>
<div class="section-content">
    <!-- Action Bar -->
    <div class="action-bar">
        <button type="button" class="btn btn-primary" id="add-webhook-btn">
            <span>+</span> Add New Webhook
        </button>
        <button type="button" class="btn btn-secondary" id="refresh-webhooks-btn">
            â†» Refresh
        </button>
    </div>

    <!-- Webhooks List -->
    <div class="webhooks-section">
        <div class="table-header">
            <h3 id="webhooks-count">Webhooks (0)</h3>
        </div>
        <div class="table-container">
            <table class="webhooks-table" id="webhooks-table">
                <thead>
                    <tr>
                        <th>URL</th>
                        <th>Event Type</th>
                        <th>Status</th>
                        <th>Last Test</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="webhooks-tbody">
                    <tr>
                        <td colspan="5" class="empty-state">Loading webhooks...</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Add/Edit Webhook Modal -->
<div id="webhook-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="webhook-modal-title">Add New Webhook</h3>
            <button type="button" class="modal-close" id="webhook-modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <form id="webhook-form">
                <div class="form-group">
                    <label for="webhook-url">Webhook URL *</label>
                    <input type="url" id="webhook-url" name="url" required class="form-input" placeholder="https://example.com/webhook">
                    <small class="form-help">The URL where webhook events will be sent</small>
                </div>
                <div class="form-group">
                    <label for="webhook-event-type">Event Type *</label>
                    <select id="webhook-event-type" name="event_type" required class="form-input">
                        <option value="">Select event type</option>
                        <option value="product.created">Product Created</option>
                        <option value="product.updated">Product Updated</option>
                        <option value="product.deleted">Product Deleted</option>
                        <option value="product.uploaded">Product Uploaded (Bulk)</option>
                        <option value="all">All Events</option>
                    </select>
                    <small class="form-help">Select which events trigger this webhook</small>
                </div>
                <div class="form-group">
                    <label for="webhook-enabled">
                        <input type="checkbox" id="webhook-enabled" name="enabled" checked>
                        Enabled
                    </label>
                    <small class="form-help">Disable to temporarily stop webhook calls</small>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" id="webhook-modal-cancel">Cancel</button>
            <button type="button" class="btn btn-primary" id="webhook-modal-save">Save Webhook</button>
        </div>
    </div>
</div>

<!-- Test Webhook Modal -->
<div id="test-webhook-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content modal-small">
        <div class="modal-header">
            <h3>Test Webhook</h3>
            <button type="button" class="modal-close" id="test-webhook-modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <div id="test-webhook-info" class="test-info"></div>
            <div id="test-webhook-result" class="test-result" style="display: none;">
                <h4>Test Result</h4>
                <div class="test-result-details">
                    <div class="result-item">
                        <span class="result-label">Status Code:</span>
                        <span class="result-value" id="test-status-code">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Response Time:</span>
                        <span class="result-value" id="test-response-time">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Status:</span>
                        <span class="result-value" id="test-status">-</span>
                    </div>
                    <div class="result-item" id="test-response-body-container" style="display: none;">
                        <span class="result-label">Response:</span>
                        <pre class="result-value" id="test-response-body"></pre>
                    </div>
                </div>
            </div>
            <div id="test-webhook-loading" class="test-loading" style="display: none;">
                <p>Testing webhook...</p>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" id="test-webhook-modal-close-btn">Close</button>
        </div>
    </div>
</div>

<!-- Delete Confirmation Modal -->
<div id="delete-webhook-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content modal-small">
        <div class="modal-header">
            <h3>Confirm Deletion</h3>
        </div>
        <div class="modal-body">
            <p>Are you sure you want to delete this webhook?</p>
            <p class="delete-webhook-info" id="delete-webhook-info"></p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" id="delete-webhook-cancel">Cancel</button>
            <button type="button" class="btn btn-danger" id="delete-webhook-confirm">Delete</button>
        </div>
    </div>
</div>

